<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Raju Rimal">
  <title>Review on Simrel Paper</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  
  
  
  <link rel="stylesheet" href="latex.css"/>
  <link rel="stylesheet" href="tufte.css"/>
  <link rel="stylesheet" href="custom.css"/>
  
</head>
<body>
<header>
<h1 class="title">Review on Simrel Paper</h1>
<p class="author">Raju Rimal</p>
</header>
<h1 id="corrections-in-paper"><span class="todo TODO">TODO</span> Corrections in Paper</h1>
<h2 id="introduction">Introduction</h2>
<h3 id="page-2">Page 2:</h3>
<ul>
<li>Add references <span class="citation" data-cites="johnson2013multivariate">(Johnson 2013)</span> along with <span class="citation" data-cites="ripley2009stochastic">(Ripley 2009)</span> and <span class="citation" data-cites="gamerman2006markov">(Gamerman and Lopes 2006)</span>.</li>
<li>In particular, methods based on covariance structure has been discussed by <span class="citation" data-cites="arteaga2010simulate">(Arteaga and Ferrer 2010, <span class="citation" data-cites="arteaga2013building">Arteaga and Ferrer (2013)</span>, <span class="citation" data-cites="camacho2017generation">Camacho (2017)</span>)</span>, which follows an algorithmic approach to find simulated data satisfying the desired correlation structure.</li>
</ul>
<h3 id="page3">Page3:</h3>
<ul>
<li>The github repository of the package at <a href="http://github.com/simrel/simrel" class="uri">http://github.com/simrel/simrel</a> has rich documentation with many examples and cases along with detail description on simulation parameters. In addition, implementation section and Figure-5 have also discussed about the input parameters needed for simrel function in brief.</li>
<li>In the following two section, discussion encircle the mathematical framework behind. In section 4, an implementation is presented as an example of use-cases and the final section introduce shiny web application for this tool.</li>
</ul>
<h2 id="relevant-components">Relevant Components</h2>
<h3 id="page-6">Page 6</h3>
<ul>
<li>Equation number to the expression of generating lambda from gamma. Subscript changed from <span class="math inline">\(j\)</span> to <span class="math inline">\(i\)</span>.</li>
<li><del>Here we assume that <span class="math inline">\(\mathbf{w}\)</span>'s are independent and has mutinormal distribution wnith variances 1, hence <span class="math inline">\(\boldsymbol{\Sigma}_{ww} = \mathbf{I}_m\)</span>.</del> In similar manner, a parametric representation of eigenvalues corresponding to <span class="math inline">\(\Sigma_{ww}\)</span> is adopted as, <span class="math display">\[\kappa_i = e^{-\eta(j - 1), \eta &gt; 0 \text{ and } j = 1 \ldots m}\]</span> Here, the decline of eigenvalues becomes steep as <span class="math inline">\(\eta\)</span> gets far from zero. At <span class="math inline">\(\eta = 0\)</span>, all <span class="math inline">\(\boldsymbol{w}\)</span> will have equal variance.</li>
</ul>
<h3 id="page-8">Page 8</h3>
<ul>
<li><span class="math inline">\(\cancel{\Sigma_{ww} = \mathbf{I}_{m}}\)</span> <span class="math display">\[\Sigma_{ww} = \text{diag}(\kappa_1, \ldots, \kappa_m)\]</span></li>
<li><span class="math inline">\(\cancel{\rho_w^2 = \Sigma_{zw}^t\Lambda^{-1}\Sigma_{zw}\Sigma_{ww}^{-1}}\)</span> <span class="math display">\[
   \rho_{w}^2 = \Sigma_{zw}^t\Lambda^{-1}\Sigma_{zw}\Sigma_{ww}^{-1} = \begin{bmatrix}
   \sum_{i = 1}^p\frac{\sigma_{i1}^2}{\lambda_i\kappa_1} &amp; \ldots &amp; \sum_{i=1}^p\frac{\sigma_{i1}\sigma_{im}}{\lambda_i\kappa_1} \\
   \vdots &amp; \ddots &amp; \vdots \\
   \sum_{i=1}^p\frac{}{} &amp; \ldots &amp; \sum_{i = 1}^p\frac{\sigma_{im}^2}{\lambda_i\kappa_m}
   \end{bmatrix}
   \]</span></li>
<li><span class="math inline">\(\cancel{\rho_{w_j}^2 = \sum_{i = 1}^p\frac{\sigma_{ij}^2}{\lambda_i}}\)</span> is replaced by,</li>
</ul>
<p><span class="math display">\[\rho_{w_j}^2 = \sum_{i = 1}^p\frac{\sigma_{ij}^2}{\lambda_i\kappa_j}\]</span></p>
<ul>
<li><span class="math inline">\(\cancel{\rho_{w_j}^2 = \sum_{i \in \mathcal{P}_j}\frac{\sigma_{ij}^2}{\lambda_i}}\)</span></li>
</ul>
<p><span class="math display">\[\rho_{w_j}^2 = \sum_{i \in \mathcal{P}_j} \frac{\sigma_{ij}^2}{\lambda_i\kappa_j}\]</span></p>
<ul>
<li><span class="math inline">\(\cancel{\sigma_{ij} = \text{Sign}(\mathcal{S}_i)\sqrt{\frac{\rho_{wj}^2\left|\mathcal{S}_i\right|}{\sum_{k\in\mathcal{P}_j}\left|\mathcal{S}_k\right|}\lambda_i}}\)</span> <span class="math display">\[\sigma_{ij} = \text{Sign}(\mathcal{S}_i)\sqrt{\frac{\rho_{wj}^2\left|\mathcal{S}_i\right|}{\sum_{k\in\mathcal{P}_j}\left|\mathcal{S}_k\right|}\lambda_i\kappa_j}\]</span> for <span class="math inline">\(i \in \mathcal{P}_j\)</span> and <span class="math inline">\(j = 1, \ldots m\)</span></li>
</ul>
<h2 id="implementation">Implementation</h2>
<h3 id="page-13">Page 13</h3>
<ul>
<li><code>gamma</code> <span class="math inline">\(\rightarrow \gamma\)</span> (referred to corresponding equation)</li>
<li><strong>Line 8:</strong> Here, in this example we have assumed that all <span class="math inline">\(w\)</span> 's have equal variance, i.e. <span class="math inline">\(\Sigma_{ww} = I_m\)</span></li>
<li><strong>Line 11:</strong> Although the simulation method is well equipped to simulate data with <span class="math inline">\(p \gg n\)</span>, for incorporating envelope estimation methods for comparison, we have chosen <span class="math inline">\(n&gt;p\)</span> situation in this example.</li>
<li><strong>Figure 3 Caption:</strong> Here (a) is the covariance structure of latent space which is rotated by the block diagonal rotation matrix in (b) resulting the covariance structure of simulated data in (c).</li>
</ul>
<h2 id="web-interface">Web Interface</h2>
<h3 id="page-16">Page 16</h3>
<ul>
<li><del>(uses <code>simrel</code> package in CRAN)</del>, <del>(not yet available in CRAN)</del>, <del>(<code>simrel-m</code>)</del>.</li>
<li><strong>second last line</strong> Users can also download simulated data in JSON and CSV format.</li>
</ul>
<h3 id="page-17">Page 17</h3>
<ul>
<li><strong>After first paragraph:</strong> An R expression equivalent to the input parameters as shown in Figure - 5(b) can be written as,</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">simrel</span>(
  <span class="dt">n      =</span> <span class="dv">200</span>, 
  <span class="co"># Number of training observations</span>
  <span class="dt">ntest  =</span> <span class="dv">50</span>, 
  <span class="co"># Number of test observations</span>
  <span class="dt">p      =</span> <span class="dv">15</span>, 
  <span class="co"># Number of predictor variables</span>
  <span class="dt">q      =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">4</span>), 
  <span class="co"># Number of relevant predictors</span>
  <span class="dt">relpos =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>)), 
  <span class="co"># Position of predictor components</span>
  <span class="dt">R2     =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.7</span>), 
  <span class="co"># Coefficient of determination for each response components</span>
  <span class="dt">m      =</span> <span class="dv">4</span>, 
  <span class="co"># Number of response variables</span>
  <span class="dt">gamma  =</span> <span class="fl">0.6</span>, 
  <span class="co"># Decay factor of eigenvalues of predictors</span>
  <span class="dt">eta    =</span> <span class="dv">0</span>, 
  <span class="co"># Decay factor of eigenvalues of responses</span>
  <span class="dt">ypos   =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)), 
  <span class="co"># Combination of response components on rotation</span>
  <span class="dt">type   =</span> <span class="st">&quot;multivariate&quot;</span>
)</code></pre></div>
<ul>
<li>Figure-5 moved to this page</li>
<li><strong>Figure-5 Caption:</strong> Web interface of shiny application of `simrel`: (<strong>a</strong>) Buttons to trigger simulation, (<strong>b</strong>) Parameters for simulation -- here with these settings 200 training sets (<code>n</code>) and 50 test sets (<code>ntest</code>) will be simulated with 15 predictor variables (<code>p</code>) and 4 response variables (<code>m</code>). The 4 response variables will have 2 true latent dimension which is referred as <em>response components</em>. The first response component is rotated together with third (uninformative) response component and second response component is rotated together with fourth (uninformative) response components (<code>ypos</code>). Out of 15 predictors, 5 will be relevant for first response component and 4 will be relevant for second response component (<code>q</code>). The relevant principal components of the predictor variables are <em>predictor components</em>. The 5 predictor variables which are relevant for first response components span the same space as the predictor components at position 1 and 2. Similarly, the 4 predictor variables which are relevant for second response components span the same space as the predictor components at position 3, 4 and 6 (<code>relpos</code>). The coefficient of determination for first response component is 0.8 and second response component is 0.7 (<code>R2</code>). The eigenvalues of predictor components decay exponentially by the factor of 0.6 (<code>gamma</code>) but the eigenvalues of response components are constant (but can be set to exponential decay) (<code>eta</code>). (<strong>c</strong>) Visualization of the true properties of simulated data (regression coefficients, true and estimated covariance between response and predictors components) (<strong>d</strong>) Additional analysis (<strong>e</strong>) Download option of simulated data.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<ul>
<li>Whether comparing methods or assessing and understanding properties of any methods, tools or procedure; simulated data allows controlled tests for researchers. However, researchers spend enormous amount of time for creating such simulation tools so that they can obtain particular nature of data. We believe that this tool along with R-package and the easy to use shiny web interface will become an assistive tool for researchers in this respect.</li>
</ul>
<h1 id="r-package-simrel-17"><span class="todo TODO">TODO</span> R package:: <code>simrel</code> [1/7]</h1>
<ul>
<li>[ ] Convert <code>simulatr</code> <span class="math inline">\(\rightarrow\)</span> <code>simrel</code></li>
<li>[ ] Univariate simrel (<code>simrel</code>) <span class="math inline">\(\rightarrow\)</span> <code>unisimrel</code> function</li>
<li>[ ] Include <code>mbrd</code> function for creating fractional design from old simrel package</li>
<li>[ ] Update documentation with many examples and cases</li>
<li>[ ] Introduce about shiny application and rstudio gadget on the readme file</li>
<li>[ ] Link to package documentation site</li>
<li>[X] Move the repository <code>therimalaya/simulatr -&gt; simulatr/simrel</code></li>
</ul>
<h1 id="shiny-application-for-simrel-02"><span class="todo TODO">TODO</span> Shiny application for <code>simrel</code> [0/2]</h1>
<ul>
<li>[ ] Fix covariance plot (bigger text, aspect ratio etc)</li>
<li>[ ] Model fitting tab:: Coefficient comparison plot, estimation and prediction error plot</li>
</ul>
<h1 id="references" class="unnumbered">References</h1>
<div id="refs" class="references">
<div id="ref-arteaga2010simulate">
<p>Arteaga, Francisco, and Alberto Ferrer. 2010. “How to Simulate Normal Data Sets with the Desired Correlation Structure.” <em>Chemometrics and Intelligent Laboratory Systems</em> 101 (1). Elsevier: 38–42.</p>
</div>
<div id="ref-arteaga2013building">
<p>———. 2013. “Building Covariance Matrices with the Desired Structure.” <em>Chemometrics and Intelligent Laboratory Systems</em> 127. Elsevier: 80–88.</p>
</div>
<div id="ref-camacho2017generation">
<p>Camacho, José. 2017. “On the Generation of Random Multivariate Data.” <em>Chemometrics and Intelligent Laboratory Systems</em> 160. Elsevier: 40–51.</p>
</div>
<div id="ref-gamerman2006markov">
<p>Gamerman, Dani, and Hedibert F Lopes. 2006. <em>Markov Chain Monte Carlo: Stochastic Simulation for Bayesian Inference</em>. CRC Press.</p>
</div>
<div id="ref-johnson2013multivariate">
<p>Johnson, Mark E. 2013. <em>Multivariate Statistical Simulation: A Guide to Selecting and Generating Continuous Multivariate Distributions</em>. John Wiley &amp;amp; Sons.</p>
</div>
<div id="ref-ripley2009stochastic">
<p>Ripley, Brian D. 2009. <em>Stochastic Simulation</em>. Vol. 316. John Wiley &amp; Sons.</p>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
    cancel   : ["Extension","cancel"],
    bcancel  : ["Extension","cancel"],
    xcancel  : ["Extension","cancel"],
    cancelto : ["Extension","cancel"]
  });
});
</script>
</body>
</html>
