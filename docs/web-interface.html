<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>A tool for simulating multi-response linear model data</title>
  <meta name="description" content="A tool for simulating multi-response linear model data">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="A tool for simulating multi-response linear model data" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://therimalaya.github.io/simrel-m" />
  
  
  <meta name="github-repo" content="therimalaya/simrel-m" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A tool for simulating multi-response linear model data" />
  
  
  



<meta name="date" content="2017-12-29">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="implementation.html">
<link rel="next" href="conclusion.html">
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="lead"><a href="./index.html">Simrel-M: A versatile Simulation Tool</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="statistical-model.html"><a href="statistical-model.html"><i class="fa fa-check"></i>Statistical Model</a></li>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html"><i class="fa fa-check"></i>Relevant Components</a><ul>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html#model-parameterization"><i class="fa fa-check"></i>Model Parameterization</a><ul>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html#position-of-relevant-components"><i class="fa fa-check"></i>Position of relevant components</a></li>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html#data-simulation"><i class="fa fa-check"></i>Data Simulation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html#rotation-of-predictor-space"><i class="fa fa-check"></i>Rotation of predictor space</a></li>
<li class="chapter" data-level="" data-path="relevant-components.html"><a href="relevant-components.html#rotation-of-response-space"><i class="fa fa-check"></i>Rotation of response space</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="implementation.html"><a href="implementation.html"><i class="fa fa-check"></i>Implementation</a></li>
<li class="chapter" data-level="" data-path="web-interface.html"><a href="web-interface.html"><i class="fa fa-check"></i>Web Interface</a></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li class="toc-footer"><a href="https://bookdown.org" target="blank">Published with BookDown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A tool for simulating multi-response linear model data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="web-interface" class="section level1">
<h1>Web Interface</h1>
<p>In order to give an alternative interface for <code>simrel</code>, we have created a shiny app which allows users to provide the simulation parameters through different input fields. Figure <a href="web-interface.html#fig:AppSimulatr">5</a> shows a screenshot of the application. The application contains three main sections through which the user can interact with this simulation approach. A random seed can be selected using section Figure <a href="web-interface.html#fig:AppSimulatr">5</a> (a) so that a particular set of data can be re-simulated if needed. Figure <a href="web-interface.html#fig:AppSimulatr">5</a> (b) has all the input panels where the user-dependent parameters for simulation can be entered. Here the user also has the option to simulate univariate, bivariate or multivariate response data. In addition, a simulated R-object comprising the simulated data can be downloaded in <code>Rdata</code> format (section (e) in Figure <a href="web-interface.html#fig:AppSimulatr">5</a>). The object holds the simulated data along with other properties such as coefficient of determination for each response, true regression coefficients and rotation matrices. Users can also download simulated data in JSON and CSV format.</p>
<p>All <code>simrel</code> parameters can be entered using a simple user interface where vector elements are separated with comma(,) and list elements are separated with semicolon(;). For instance, the relevant position discussed in the <a href="implementation.html#implementation">implementation</a> (section <a href="implementation.html#implementation"><strong>??</strong></a>) of this paper can be entered as <code>1, 6; 2, 5; 3, 4</code> which is equivalent to R syntax <code>list(c(1, 6), c(2, 5), c(3, 4))</code>. An R expression equivalent to the input parameters as shown in Figure - 5(b) can be written as,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">simrel</span>(
  <span class="dt">n      =</span> <span class="dv">200</span>, <span class="co"># Number of training observations</span>
  <span class="dt">ntest  =</span> <span class="dv">50</span>, <span class="co"># Number of test observations</span>
  <span class="dt">p      =</span> <span class="dv">15</span>, <span class="co"># Number of predictor variables</span>
  <span class="dt">q      =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">4</span>), <span class="co"># Number of relevant predictors</span>
  <span class="dt">relpos =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>)),
         <span class="co"># Relevant predictor components</span>
  <span class="dt">R2     =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.7</span>), <span class="co"># Rsq for each response component</span>
  <span class="dt">m      =</span> <span class="dv">4</span>, <span class="co"># Number of response variables</span>
  <span class="dt">gamma  =</span> <span class="fl">0.6</span>, <span class="co"># Decay factor of eigenvalues of predictors</span>
  <span class="dt">eta    =</span> <span class="dv">0</span>, <span class="co"># Decay factor of eigenvalues of responses</span>
  <span class="dt">ypos   =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)),
         <span class="co"># Combination of response components on rotation</span>
  <span class="dt">type   =</span> <span class="st">&quot;multivariate&quot;</span>
)</code></pre></div>
<p>With the parameters for simulation in the screenshot (Figure-<a href="web-interface.html#fig:AppSimulatr">5</a>) 200 training sets (<code>n</code>) and 50 test sets (<code>ntest</code>) will be simulated with 15 predictor variables (<code>p</code>) and 4 response variables (<code>m</code>). The 4 response variables will have a true latent dimension of two, which is spanned by the relevant <em>response components</em>. The first response component is rotated together with the third (irrelevant) response component and the second response component is rotated together with the fourth (irrelevant) response component as set in <code>ypos</code>. Out of 15 predictors, 5 will be relevant for the first response component and 4 will be relevant for the second response component, as set by <code>q</code>. The 5 predictor variables, that are relevant for the first response component, span the same space as the predictor components at position 1 and 2. Similarly, the 4 predictor variables that are relevant for the second response component, span the same space as the predictor components at position 3, 4 and 6 (<code>relpos</code>). The coefficient of determination for the first and second response components are 0.8 and 0.7, respectively (<code>R2</code>). The eigenvalues of the predictor components decay exponentially by the factor of 0.6 (<code>gamma</code>), whereas the eigenvalues of response components are constant (but can be set to exponential decay) (<code>eta</code>).</p>

<div class="figure" style="text-align: center"><span id="fig:AppSimulatr"></span>
<img src="images/AppSimrel.pdf" alt="Web interface of shiny application of simrel: (a) Buttons to trigger simulation, (b) Parameters for simulation, (c) Visualization of the true properties of simulated data (regression coefficients, true and estimated covariance between response and predictors components) (d) Additional analysis (e) Download option of simulated data." width="98%" />
<p class="caption">
Figure 5: Web interface of shiny application of <code>simrel</code>: (<strong>a</strong>) Buttons to trigger simulation, (<strong>b</strong>) Parameters for simulation, (<strong>c</strong>) Visualization of the true properties of simulated data (regression coefficients, true and estimated covariance between response and predictors components) (<strong>d</strong>) Additional analysis (<strong>e</strong>) Download option of simulated data.
</p>
</div>
<p>The application not only allows users to simulate data, but also gives some insight into simulated data properties. Section (c) in Figure <a href="web-interface.html#fig:AppSimulatr">5</a> contains three plots – a) true regression coefficients b) relevant components and c) estimated relevant components. In the first plot (Figure-<a href="web-interface.html#fig:AppSimulatr">5</a>(c) top) we can see that predictor variables (1, 2, 8, 9 and 13) are relevant for the first and third response variables (red and blue line) by their non-zero coefficients, whereas predictor variables (3, 4, 6 and 15) are relevant for the second and fourth response variables (purple and green line). The second plot (Figure <a href="web-interface.html#fig:AppSimulatr">5</a>(c) middle) shows the covariances between the response components and the predictor components along with the corresponding eigenvalues in the background (bar plot). In the plot the absolute value of the covariances after scaling with the largest covariance are shown. As in our parameter setting, the plot shows that the first (red line) and second (green line) predictor components have non-zero covariance with the first and third response components, and the fourth and sixth predictor components have non-zero covariance with the second response component. The third plot (Figure-<a href="web-interface.html#fig:AppSimulatr">5</a>(c) bottom) is the estimated covariances between the predictor components and the response variables, for the simulated data. Since the first and third response components are rotated together, in the plot, the covariance between the predictor components and the first and third response variables (red and blue line) are following similar patterns as the theoretical (<a href="web-interface.html#fig:AppSimulatr">5</a>(c) middle). This also suggests that the predictor components which were relevant for the first response component, becomes relevant for the first and third response variables after rotation.</p>
<p>Along with these main sections, section (d) in the same figure contains additional analysis performed on the simulated data such as its estimation with different methods. This section is intended for educational purposes to show how changing the data properties influences the performances of different estimation and prediction methods. Beside this application, for Rstudio users, a gadget will be available after installing the r-package. This gadget provides an interface enabling users to input simulation parameters and access some of the properties.</p>
<p>Many scientific studies <span class="citation">(Helland et al. 2012; Sæbø et al. 2008; R. Dennis Cook and Zhang 2015)</span> are using simulated data in order to compare their findings with others or assess its properties. In many of these situations, a user-friendly and versatile simulation tool like <code>simrel</code> can play an important role. <span class="citation">Gangsei, Almøy, and Sæbø (2016)</span> and <span class="citation">Sæbø, Almøy, and Helland (2015)</span> are some examples where the univariate and bivariate form of <code>simrel</code> have been used for such purposes.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="implementation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": true,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/therimalaya/simrel-m/edit/master/Includes/04-WebInterface.Rmd",
"text": "Edit"
},
"download": ["main.epub", "main.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
